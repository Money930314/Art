:root{
  --primary-color:#000000;
  --secondary-color:#000000;
  --dark:#0f0f10;
  --light:#ffffff;
  --overlay:rgba(0,0,0,.6);
  --navH:80px;
}

*{ box-sizing:border-box; }
body{
  font-family:'Segoe UI','Microsoft JhengHei',sans-serif;
  line-height:1.6; color:#333; background:#fefefe; margin:0;
}

/* Hero / Carousel */
.hero-carousel{ height:calc(100vh - var(--navH)); position:relative; overflow:hidden; }
.carousel-item{ height:calc(100vh - var(--navH)); position:relative; }
.carousel-item::before{ content:''; position:absolute; inset:0; background:var(--overlay); z-index:1; }
.hero-bg{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; }
.carousel-caption{
  position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
  z-index:2; color:#fff; text-align:center;
}
.carousel-caption h1{ font-size:4rem; font-weight:300; margin-bottom:1rem; }
.carousel-caption p{ font-size:1.3rem; margin-bottom:2rem; }
.btn-shop{
  background:#fff; color:#000; padding:12px 30px; border:0; border-radius:0;
  font-weight:700; text-transform:uppercase; letter-spacing:1px; transition:.3s;
}
.btn-shop:hover{ background:#000; color:#fff; transform:translateY(-2px); }

/* Navbar + theme (dark / light) */
nav.navbar{
  position:sticky; top:0; z-index:1020; padding:1rem 0;
  backdrop-filter:blur(10px);
  transition:background .25s, box-shadow .25s, color .25s;
}
nav.navbar.nav-dark{ background:rgba(0,0,0,.85); }
nav.navbar.nav-dark .navbar-brand,
nav.navbar.nav-dark .nav-link,
nav.navbar.nav-dark .bi{ color:#fff !important; }

nav.navbar.nav-light{ background:rgba(255,255,255,.95); box-shadow:0 2px 18px rgba(0,0,0,.08); }
nav.navbar.nav-light .navbar-brand,
nav.navbar.nav-light .nav-link,
nav.navbar.nav-light .bi{ color:#111 !important; }

.navbar-brand{ font-size:2.4rem; font-weight:800; letter-spacing:1px; }
.navbar-nav .nav-link{ font-size:1.25rem; font-weight:600; padding:12px 18px; position:relative; }
.navbar-nav .nav-link::after{
  content:''; position:absolute; left:50%; bottom:6px; width:0; height:2px;
  background:currentColor; transition:all .2s;
}
.navbar-nav .nav-link:hover::after{ left:0; width:100%; }

.dropdown-menu{ background:rgba(255,255,255,.97); border:0; box-shadow:0 10px 30px rgba(0,0,0,.2); }
/* 移除 Bootstrap 預設 dropdown 箭頭的三角形 */
.navbar .dropdown-toggle::after{ border:0 !important; margin-left:0 !important; vertical-align:baseline !important; }

/* In-page anchor offset */
section[data-theme]{ scroll-margin-top:var(--navH); }

/* Filter bar */
.filter-section{ padding:60px 0; background:#f8f9fa; }
.filter-controls{
  display:flex; justify-content:center; gap:20px; margin-bottom:40px; flex-wrap:wrap;
}
.filter-btn{
  background:#fff; color:#000; border:2px solid #000; padding:10px 25px;
  border-radius:25px; font-weight:500; cursor:pointer; transition:.25s;
}
.filter-btn:hover, .filter-btn.active{ background:#000; color:#fff; }
.sort-select{
  border:2px solid #000; border-radius:25px; padding:10px 15px;
  background:#fff; color:#000; font-weight:500;
}

/* Products */
.product-grid{ padding:60px 0; background:#fff; }
.product-card{
  background:#fff; border-radius:15px; overflow:hidden;
  box-shadow:0 10px 30px rgba(0,0,0,.1);
  transition:.3s; margin-bottom:30px; position:relative;
}
.product-card:hover{ transform:translateY(-8px); box-shadow:0 20px 40px rgba(0,0,0,.12); }
.product-image{ height:300px; background:linear-gradient(135deg,#f5f2eb 0%,#e8dcc0 100%); position:relative; overflow:hidden; }
.product-image img{ width:100%; height:100%; object-fit:cover; transition:transform .3s; }
.product-card:hover .product-image img{ transform:scale(1.05); }

.placeholder-image{
  width:100%; height:100%; display:flex; align-items:center; justify-content:center;
  color:#999; font-size:16px;
  background:repeating-linear-gradient(45deg,#f0f0f0 0 10px,#e8e8e8 10px 20px);
}

.product-info{ padding:25px; }
.product-category{ color:#999; font-size:.9rem; text-transform:uppercase; letter-spacing:1px; margin-bottom:5px; }
.product-name{ font-size:1.5rem; color:#000; font-weight:600; margin-bottom:10px; }
.product-description{ color:#666; line-height:1.6; margin-bottom:15px; }
.product-price{ font-size:1.3rem; font-weight:700; color:#000; margin-bottom:15px; }

.sold-out-badge{
  position:absolute; top:15px; right:15px; background:#dc3545; color:#fff;
  padding:5px 12px; border-radius:15px; font-size:.8rem; font-weight:700;
}

.btn-add-cart{
  width:100%; background:#000; color:#fff; border:0; padding:12px;
  border-radius:8px; font-weight:500; transition:.2s;
}
.btn-add-cart:hover{ background:#111; transform:translateY(-2px); }
.btn-add-cart.sold-out{ background:#6c757d; cursor:not-allowed; }
.btn-add-cart.sold-out:hover{ background:#6c757d; transform:none; }

/* About + Footer */
.about-section{ background:linear-gradient(135deg,#f8f9fa 0%,#e9ecef 100%); padding:100px 0; }

.footer{ background:#111; color:#fff; padding:60px 0 20px; }
.footer a{ color:#eee; text-decoration:none; }
.footer a:hover{ color:#fff; }

/* Cart badge 隨導覽列主題切換 */
#mainNav.nav-light .badge-cart{ background:#000; color:#fff; }
#mainNav.nav-dark  .badge-cart{ background:#fff; color:#000; }

/* RWD */
@media (max-width:768px){
  .carousel-caption h1{ font-size:2.5rem; }
  .carousel-caption p{ font-size:1rem; }
  .navbar-brand{ font-size:2rem; }
  .navbar-nav .nav-link{ font-size:1.1rem; padding:10px 14px; }
}

/* --- Account Side Panel (保持最高層級，避免擋到購物車的 backdrop) --- */
.account-overlay{
  position:fixed; inset:0;
  background:rgba(0,0,0,.4);
  backdrop-filter:saturate(120%) blur(6px);
  display:none;
  z-index:2147483645; /* 很高的層級，確保永遠在最上面 */
}
.account-overlay.show{ display:block; }

.account-panel{
  position:fixed; inset:0; display:none; z-index:2147483646; /* 比 overlay 高一層 */
  overflow:auto;
}
.account-panel.show{ display:flex; }

.account-card{ background:#fff; margin:auto; box-shadow:0 30px 60px rgba(0,0,0,.25); border-radius:20px; overflow:hidden; width:min(980px,92vw); }
.account-grid{ display:grid; grid-template-columns:1fr 1fr; min-height:560px; }
.acc-visual{ background:#111; color:#fff; display:flex; align-items:center; justify-content:center; position:relative; }
.acc-visual .brand{ position:absolute; top:22px; left:24px; font-weight:800; letter-spacing:1px; }
.acc-visual .vtxt{ font-size:28px; opacity:.9; }

.acc-form{ padding:38px 36px; display:flex; align-items:center; }
.acc-form .tabs{ display:flex; gap:12px; margin-bottom:20px; }
.acc-form .tab{ border:0; background:transparent; padding:6px 0; margin-right:18px; font-weight:700; letter-spacing:1px; border-bottom:3px solid transparent; }
.acc-form .tab.active{ border-color:#000; }
.acc-form h3{ font-weight:800; margin-bottom:16px; }
.acc-form .btn-dark{ background:#000; border-color:#000; }
.acc-form .btn-dark:hover{ background:#111; border-color:#111; }
.acc-close{ position:absolute; top:14px; right:16px; border:0; background:transparent; font-size:24px; line-height:1; }

@media (max-width:900px){
  .account-grid{ grid-template-columns:1fr; }
  .acc-visual{ min-height:180px; }
}

/* 說明行保留單行不換行（電話 & 密碼提示） */
#signupPhoneStatus,
#signupPwdStatus,
#signupPwdHint{
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
